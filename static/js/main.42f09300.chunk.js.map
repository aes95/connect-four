{"version":3,"sources":["index.js"],"names":["Item","props","color","board","col","row","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","data-row","data-col","className","onClick","click","concat","value","Game","_this","Object","_Users_aviad_development_connect_four_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_Users_aviad_development_connect_four_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_aviad_development_connect_four_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","handleClick","bind","_Users_aviad_development_connect_four_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","resetGame","state","_Users_aviad_development_connect_four_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","Array","map","i","fill","yellowNext","win","setState","box","target","closest","parseInt","dataset","slice","next_row","filter","length","arr","checkEqual","checkWinner","new_state","id","Board","React","Component","rows","items","r","c","key","toString","c1","r1","c2","r2","c3","r3","c4","r4","cols","elements","undefined","push","err","every","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.42f09300.chunk.js","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction Item(props){\n    const color = props.board[props.col][props.row]\n    return(\n        <div data-row={props.row} \n            data-col={props.col} \n            className=\"item\" \n            onClick={props.click}>\n                <div className={`circle ${color}`} value={color}> </div>\n        </div>\n    )\n}\n\nclass Game extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleClick = this.handleClick.bind(this)\n        this.resetGame = this.resetGame.bind(this)\n        this.state = {\n            //7 col and 6 rows\n            board: [...Array(7)].map(i => Array(6).fill(null)), //allows easier access to columns\n            yellowNext: true,\n            win: false,\n        }\n    }\n    \n    resetGame(){\n        this.setState({\n            board: [...Array(7)].map(i => Array(6).fill(null)), \n            yellowNext: true,\n            win: false,\n        })\n    }\n\n    handleClick(i){\n        if (this.state.win){return}\n        const box = i.target.closest('.item');\n        const col = parseInt(box.dataset.col);\n        const board = this.state.board.slice();\n        const next_row = 5 -  board[col].filter((i) => i != null).length\n        if (next_row < 0){return} //prevent overflow\n        board[col][next_row] = this.state.yellowNext ? 'Y' : 'R';\n        const win = checkWinner(board, col,next_row)\n        const new_state = win ? {board:board, win:win} : {board:board, yellowNext: !this.state.yellowNext}\n        this.setState(new_state)\n    }\n    render(){\n        return (\n        <div className=\"container\" id=\"game-view\">\n            <h1>Play Connect Four!</h1>\n\n            <h4> {this.state.yellowNext ? 'Yellow': 'Red'} {this.state.win ? 'Wins!' : 'now playing'} </h4>\n            <Board board = {this.state.board} handleClick={this.handleClick}\n            resetGame={this.resetGame} yellowNext={this.state.yellowNext}\n            win={this.state.win} />\n            <button onClick= {this.resetGame}> Reset Game</button>\n        </div>\n        )\n    }\n}\n\n\nfunction Board(props){\n    const cols = [0,1,2,3,4,5]\n    const rows= [0,1,2,3,4,5,6]\n    const items = cols.map((r) => rows.map((c) => \n        <Item row={r} col={c} \n                color = {props.board[c][r]}\n                key={c.toString()+r.toString()} \n                board = {props.board}\n                click={props.handleClick}/>\n        ))\n    return <div className=\"board\"> {items} </div>\n}\n\n// Render:\nfunction App(){\n    return <Game/>\n}\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n//Game logic:\nfunction checkWinner(arr, col, row){  \n    for (let i = 0; i <4; i++){  //check column\n        if(checkEqual(arr, col,row+i, col,row-1+i, col,row-2+i, col,row-3+i))\n        {return true}\n    } \n    for (let i = 0; i <4; i++){ //check row\n         if(checkEqual(arr, col +i,row, col- 1+i,row, col -2+i,row, col -3+i,row)){\n            return true\n        } \n    }\n    for (let i=0; i<4; i++){ //check left diagnal \n        if(checkEqual(arr, col +i,row +i, col- 1+i,row-1+i, col -2+i,row-2+i, col -3+i,row-3+i)){\n            return true\n        }\n    }  \n    for (let i=0; i<4; i++){ //check right diagnal\n        if(checkEqual(arr, col -i,row +i, col+ 1-i,row-1+i, col +2-i,row-2+i, col +3-i,row-3+i)){\n            return true\n        }\n    }\n    return false\n}\n\nfunction checkEqual(arr, c1,r1,c2,r2,c3,r3,c4,r4){ \n    //refactor this after writing some tests\n    const rows = [r1,r2,r3,r4]\n    const cols = [c1,c2,c3,c4]\n    const elements = []\n    for (let i = 0; i<4; i++){\n        try {\n            if (arr[cols[i]] === undefined ||  arr[cols[i]] === null){\n                return false           \n            }if(arr[cols[i]][rows[i]] === undefined || arr[cols[i]][rows[i]] === null ){\n                return false\n            }\n            else{\n                elements.push(arr[cols[i]][rows[i]])\n                 if (elements.length === 4){\n                }\n            }\n        }catch(err){\n            return false\n        }\n    }\n    return elements.every( (i) => i === elements[0]);\n}"],"sourceRoot":""}